<!DOCTYPE html>
<html lang="ca">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Qüestionari d'Avaluació del Risc d'Incendi</title>

<style>
body{
font-family:Arial, sans-serif;
background:#fff;
margin:0;
padding:20px;
}

.container{
max-width:900px;
margin:auto;
}

h1{
text-align:center;
font-size:22px;
margin-bottom:5px;
}

h2{
text-align:center;
font-size:14px;
margin-bottom:20px;
font-weight:normal;
}

table{
width:100%;
border-collapse:collapse;
font-size:13px;
}

td,th{
border:1px solid #ccc;
padding:6px;
vertical-align:top;
}

th{
background:#f0f0f0;
}

.section{
background:#e8f5e9;
font-weight:bold;
text-align:center;
}

.points{
text-align:center;
width:60px;
font-weight:bold;
}

.total{
font-size:18px;
font-weight:bold;
text-align:center;
background:#fff8e1;
}

</style>
</head>

<body>

<div class="container">

<h1>QÜESTIONARI D'AVALUACIÓ DEL RISC D'INCENDI</h1>
<h2>Document únic d'avaluació - Versió compacta</h2>

<table>

<tr class="section"><td colspan="4">A - PREVENCIÓ</td></tr>

<tr>
<td>Estat prevenció</td>
<td colspan="2">
<label><input type="radio" name="a1" value="4"> >3 anys</label><br>
<label><input type="radio" name="a1" value="2"> 1-3 anys</label><br>
<label><input type="radio" name="a1" value="0"> Anual</label>
</td>
<td class="points" id="a1p">0</td>
</tr>

<tr>
<td>Grau coneixement</td>
<td colspan="2">
<label><input type="radio" name="a2" value="2"> Gens</label><br>
<label><input type="radio" name="a2" value="1"> Mig</label><br>
<label><input type="radio" name="a2" value="0"> Alt</label>
</td>
<td class="points" id="a2p">0</td>
</tr>

<tr class="section"><td colspan="3">Subtotal A</td><td class="points" id="totalA">0</td></tr>


<tr class="section"><td colspan="4">B - VEGETACIÓ</td></tr>

<tr>
<td>Tipus vegetació</td>
<td colspan="2">
<label><input type="radio" name="b1" value="4"> Coníferes</label><br>
<label><input type="radio" name="b1" value="3"> Arbustives</label><br>
<label><input type="radio" name="b1" value="2"> Frondoses</label><br>
<label><input type="radio" name="b1" value="1"> Pastura</label><br>
<label><input type="radio" name="b1" value="0"> Sòl nu</label>
</td>
<td class="points" id="b1p">0</td>
</tr>

<tr>
<td>Estructura</td>
<td colspan="2">
<label><input type="radio" name="b2" value="3"> Alta</label><br>
<label><input type="radio" name="b2" value="2"> Mitjana</label><br>
<label><input type="radio" name="b2" value="1"> Baixa</label><br>
<label><input type="radio" name="b2" value="0"> Clara</label>
</td>
<td class="points" id="b2p">0</td>
</tr>

<tr class="section"><td colspan="3">Subtotal B</td><td class="points" id="totalB">0</td></tr>

<tr class="section"><td colspan="4">RESULTAT FINAL</td></tr>
<tr>
<td colspan="3">TOTAL</td>
<td class="total" id="totalFinal">0</td>
</tr>

</table>

</div>

<script>

function update(){
let totalA=0,totalB=0;

let radios=document.querySelectorAll("input[type=radio]:checked");
radios.forEach(r=>{
let val=parseInt(r.value);
let name=r.name;

if(name.startsWith("a")){
document.getElementById(name+"p").innerText=val;
totalA+=val;
}

if(name.startsWith("b")){
document.getElementById(name+"p").innerText=val;
totalB+=val;
}

});

document.getElementById("totalA").innerText=totalA;
document.getElementById("totalB").innerText=totalB;

let total=totalA+totalB;
document.getElementById("totalFinal").innerText=total;
}

document.querySelectorAll("input").forEach(el=>{
el.addEventListener("change",update);
});

</script>

</body>
</html>
